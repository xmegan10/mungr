% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/standardize_strcols.R
\name{standardize_strcols}
\alias{standardize_strcols}
\alias{standardize_strcols.MungrCleaner}
\title{Standardize String Columns from MungrCleaner}
\usage{
standardize_strcols(x, ...)

\method{standardize_strcols}{MungrCleaner}(x, col_name = "", num_threshold = 0.7, date_threshold = 0.5, cat_threshold = 0.1, date_format = "ymd", ...)
}
\arguments{
\item{x}{An object of class MungrCleaner containing the data to clean.}

\item{...}{Additional arguments (not used).}

\item{col_name}{Character. The name of a single column to process. If argument equals "",
(default), all character and factor columns are processed.}

\item{num_threshold}{Numeric. The minimum proportion of non-NA/non-empty
values that must successfully convert to numeric (after cleaning symbols)
for the column to be converted (e.g., 0.7 means more than 70\% of non-empty values must be successfully converted to numeric).
Default is 0.7.}

\item{date_threshold}{Numeric. The minimum proportion of non-NA/non-empty
values that must successfully parse into a date object for the column to be
converted (e.g., 0.5 means more than 50\% of non-empty values must parse into a date object). Default is 0.5.}

\item{cat_threshold}{Numeric. The maximum ratio of unique non-NA/non-empty
values to total non-NA/non-empty values for a column to be converted to a
factor (e.g., 0.1 means unique values must be less than 10\% of the total). Default is 0.1.}

\item{date_format}{Character. The format to assume for date parsing. Must be
one of "ymd", "mdy", or "dmy". Default is "ymd".}
}
\value{
The updated MungrCleaner object with converted columns in its
data component and a log entry detailing the changes..
}
\description{
This generic function refines the data type of
string columns within a MungrCleaner object, converting them to
a Boolean type, numerical type, date type, or factor (Categorical) type
based on their content.
}
\details{
The conversion process is sequential and mutually exclusive:
if a column meets the threshold for an earlier type (e.g., Boolean), subsequent
checks (Numeric, Date, Factor) are skipped. The strict order of evaluation is:
Boolean to Numeric to Date to Factor.
}
\examples{
# Assume MungrCleaner and standardize_strcols generic are defined.

# --- 1. Example Data Setup ---
messy_df <- data.frame(
  A_Bool = c("T", "F", "1", "0", "YES", "NO"),
  B_Price = c("$100.50", "200", "300", "400", "500", "ERROR"), # 1 failure
  C_Date = c("2023-01-01", "2023-01-02", "2023-01-03",
             "2023-01-04", "2023-01-05", "N/A"), # 1 failure
  D_Cat = c("Red", "Blue", "Red", "Blue", "Red", "Blue"),
  stringsAsFactors = FALSE
)

# Assume MungrCleaner object creation
cleaner <- MungrCleaner(messy_df)

# --- 2. Run Standardization with Defaults ---
# Defaults: num_threshold = 0.7 (70\%), date_threshold = 0.5 (50\%), cat_threshold = 0.1 (10\%)
cleaner_standardized <- standardize_strcols(cleaner)

# --- 3. Expected Results ---
# A_Bool: Converted to Logical (100\% success).
# B_Price: Numeric check ratio is 5/6 (83.3\%) >= 0.7. Converted to numeric (removes '$').
# C_Date: Date check ratio is 5/6 (83.3\%) >= 0.5. Converted to Date.
# D_Cat: Unique ratio is 2/6 (33.3\%) > 0.1. Stays Character (unless cat_threshold is set higher).

str(cleaner_standardized$data)

}
